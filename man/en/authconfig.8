.de FN
\fI\|\\$1\|\fP
..
.TH AUTHCONFIG 8 "5 December 2005" "Red Hat, Inc."
.UC 4
.SH NAME
authconfig, authconfig-tui \- an interface for configuring system authentication resources
.SH SYNOPSIS
\fBauthconfig\fR
.in +7
[--nostart]
.br
[--enablecache] [--disablecache]
.br
[--enablenis 
.br
	[--nisdomain \fIdomain\fR] [--nisserver \fInamelist\fR] ]
.br
[--disablenis]
.br
[--enableshadow] [--disableshadow]
.br
[--enablemd5] [--disablemd5]
.br
[--enableldap 
.br
	[--enableldapauth] [--enableldaptls]
	[--ldapserver \fInamelist\fR] [--ldapbasedn \fIbasedn\fR]]
.br
[--disableldap] [--disableldapauth]
.br
[--enablekrb5 
.br
	[ --krb5realm \fIrealm\fR ] [--krb5kdc \fInamelist\fR]
	[--krb5adminserver \fInamelist\fR] [--enablekrb5kdcdns] 
	[--disablekrb5kdcdns] [--enablekrb5realmdns] [--disablekrb5realmdns] ]
.br
[--disablekrb5]
.br
[--enablehesiod
.br 
	[--hesiodlhs \fIlhs\fR] [--hesiodrhs \fIrhs\fR] ] 
[--disablehesiod]
.br
[--enablesmbauth
.br 
	[--smbworkgroup \fIworkgroup\fR] 
	[--smbservers \fInamelist\fR]]
[--disablesmbauth]
.br
[--enablewinbind 
.br
	[--enablewinbindauth] [--smbsecurity {user|server|domain|ads}]
	[--smbrealm \fIrealm\fR] 
	[--smbidmapuid=\fIrange\fR] [--smbidmapgid=\fIrange\fR]
	[--winbindseparator=\fI\e\fR] 
	[--winbindtemplateprimarygroup=\fIgroup\fR]
	[--winbindtemplatehomedir=\fIdirectory\fR] 
	[--winbindtemplateshell=\fIpath\fR] ]
.br
[--disablewinbind] [--disablewinbindauth]
.br
[--enablewinbindusedefaultdomain]
.br
[--disablewinbindusedefaultdomain]
.br
[--winbindjoin \fIadmin\fR] [--enablewins] [--disablewins]
.br
{--test|--update|--probe}
.in -7
.SH DESCRIPTION
\fBauthconfig\fR provides a simple method of configuring
/etc/sysconfig/network to handle NIS, as well as /etc/passwd and
/etc/shadow, the files used for shadow password support.  Basic LDAP,
Kerberos 5, and SMB (authentication) client configuration is also provided.

If \fB--test\fR action is specified, \fBauthconfig\fR can be run by
users other then root, and any configuration changes are not saved but printed
instead.
If \fB--update\fR action is specified, \fBauthconfig\fR must be run by
root (or through console helper), and configuration changes are saved.
The \fB--probe\fP action instructs \fBauthconfig\fP to use DNS and other means
to guess at configuration information for the current host, print its guesses
if it finds them to standard output, and exit.

If \fB--nostart\fR is specified (which is what the install program does),
ypbind or other daemons will not be started or stopped immediately following
program execution, but only enabled to start or stop at boot time. 

The \fB--enablenis\fP, \fB--enableldap\fP, \fB--enablewinbind\fP,
and \fB--enablehesiod\fP options
are used to configure user information services in \fB/etc/nsswitch.conf\fP,
the \fB--enablecache\fP option is used to configure naming services caching,
and the \fB--enableshadow\fP, \fB--enablemd5\fP, \fB--enableldapauth\fP,
\fB--enablekrb5\fP, \fB--enablewinbindauth\fP,
and \fB--enablesmbauth\fP options are used to configure
authentication functions via \fB/etc/pam.d/system-auth\fP.  Each
\fB--enable\fP has a matching \fB--disable\fP option that disables the service
if it is already enabled. The respective services have parameters which configure
their server names etc.

The \fBauthconfig-tui\fR supports all options of authconfig but it implies
\fB--update\fR as the default action. Its window contains a \fBCancel\fR
button by default. If \fB--back\fR option is specified at run time, a \fBBack\fR
button is presented instead. If \fB--kickstart\fR is specified, no interactive
screens will be seen. The values the program will use will be those specified by
the other options (\fB--enablemd5\fR, \fB--enableshadow\fR, etc.).

For \fInamelist\R you may substitute either a single name or a 
comma-separated list of names.
.PD
.SH NOTES
The \fBauthconfig-tui\fR is deprecated. No new configuration settings will be
supported by its text user interface. Use \fBsystem-config-authentication\fR GUI
application or the command line options instead.

.PD
.SH "RETURN CODES"
\fBauthconfig\fR returns 0 on success, 2 on error.

\fBauthconfig-tui\fR returns 0 on success, 2 on error, and 1 if the user cancelled
the program (by using either the \fBCancel\fR or \fBBack\fR button).

.PD
.SH FILES
.PD 0
.TP
.TP
.FN /etc/sysconfig/authconfig
Used to track whether or not particular authentication mechanisms are enabled.
Currently includes variables named USESHADOW, USEMD5, USEKERBEROS, USELDAPAUTH,
USESMBAUTH, USEWINBIND, USEWINBINDAUTH, USEHESIOD, USENIS, USELDAP.
.TP
.FN /etc/passwd, /etc/shadow
Used for shadow password support.
.TP
.FN /etc/yp.conf
Configuration file for NIS support.
.TP
.FN /etc/sysconfig/network
Another configuration file for NIS support.
.TP
.FN /etc/ldap.conf
.FN /etc/openldap/ldap.conf
Used to configure LDAP (and OpenLDAP, respectively).
.TP
.FN /etc/krb5.conf
Used to configure Kerberos 5.
.TP
.FN /etc/krb.conf
Used to configure Kerberos IV (write-only).
.TP
.FN /etc/hesiod.conf
Used to configure Hesiod.
.TP
.FN /etc/pam_smb.conf
Used to configure SMB authentication.
.TP
.FN /etc/samba/smb.conf
Used to configure winbind authentication.
.TP
.FN /etc/nsswitch.conf
Used to configure user information services.
.TP
.FN /etc/pam.d/system-auth
Common PAM configuration for system services which include it using the
\fBinclude\fR directive. It is created as symlink and not relinked if
it points to another file.
.TP
.FN /etc/pam.d/system-auth-ac
Contains the actual PAM configuration for system services and is the
default target of the \fB/etc/pam.d/system-auth\fR symlink. If a local configuration
of PAM is created (and symlinked from \fBsystem-auth\fR file) this file can be \fBinclude\fRd
there.

.PD
.SH "SEE ALSO"
passwd(5), shadow(5), pwconv(1), domainname(1), ypbind(8),
nsswitch.conf(5), smb.conf(5)

.SH AUTHORS
.nf
Nalin Dahyabhai <nalin@redhat.com>, Preston Brown <pbrown@redhat.com>,
Matt Wilson <msw@redhat.com>, Tomas Mraz <tmraz@redhat.com>
.fi
